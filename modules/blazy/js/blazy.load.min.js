!function(a,b,c,d,e){"use strict";b.behaviors.blazy={attach:function(c){var f=b.blazy,g=a("[data-blazy]",c),h=f.globalSettings();g.length||(f.init=new Blazy(h)),g.once("blazy").each(function(){var b=a(this),g=b.data("blazy")||{},i=a.extend({},h,g);f.init=new Blazy(i),b.data("blazy",i),f.resizing(function(){f.windowWidth=d.innerWidth||e.documentElement.clientWidth||a(d).width(),a(".media--ratio",c).each(f.updateRatio),b.trigger("resizing",[f.windowWidth])})()})}},b.blazy=b.blazy||{init:null,windowWidth:0,globalSettings:function(){var b=this,d=c.blazy||{},e={success:function(a){b.clearing(a)},error:function(a,c){b.clearing(a)}};return a.extend(d,e)},updateRatio:function(c,d){var k,e=b.blazy,f=a(d),g=f.closest("[data-blazy]"),h=g.length&&g.data("blazy")?g.data("blazy"):{},i=f.data("dimensions")||h.dimensions||null,j=null;if(null!==i){k=Object.keys(i);var l=k[0],m=k[k.length-1];a.each(i,function(a,b){if(a>=e.windowWidth)return j=b,!1}),null===j&&(j=i[e.windowWidth>=m?m:l]),null!==j&&f.css({paddingBottom:j+"%"})}},clearing:function(b){a(b).removeClass("media--loading").parents('[class*="loading"]').removeClass(function(a,b){return(b.match(/(\S+)loading/g)||[]).join(" ")})},resizing:function(a,b){return d.onresize=function(){d.clearTimeout(b),b=d.setTimeout(a,200)},a}}}(jQuery,Drupal,drupalSettings,this,this.document);
